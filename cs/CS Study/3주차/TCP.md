### TCP
- 데이터 통신을 하기 위한 프로토콜
- Transport(전송) 계층에서 사용한다. (4계층)
- 주로 Network 계층인 3계층 IP와 함께 사용된다.
- 특징
	1. 흐름 제어 
		1. TCP 헤더의 *Window size*를 통해 한번에 주고받을 데이터의 크기를 정한다.
		   3-way handshake 시점에 수신자가 정하고, 상황에 따라 조절한다.
		2. 수신자는 지금까지 받은 데이터 양을 확인하여 송신자에게 보낸다. 
		   *Acknowledgment Number*
		3. 송신자는 데이터의 순서 번호인 *Sequence Number*의 다음 번호 데이터를 전송한다.
	2. 혼잡 제어 : *Slow Start*
		1. 송신자는 연결 초기에 데이터 송출량을 낮게 잡고, 수신을 확인하며 점차 늘린다.
### 3-way handshake
- 신뢰성 있는 통신을 위해 서로 통신 가능 여부를 확인한다.
- SYN -> SYN/ACK -> ACK
- TCP 헤더를 통해 시그널이 전달된다.

### 질문
- TCP는 왜 순서대로 처리할 수 밖에 없나요? 특징을 알려주세요.
	- 순서를 보장하고 패킷 순서를 유지하기 때문입니다.
	- 신뢰성 보장
	- 흐름 제어 : 수신자가 처리할 수 있는 양만큼만 데이터 전송
	- 혼잡 제어 : 네트워크 상태에 따라 데이터 전송 속도 조절
	- 패킷 순서 유지

- TCP와 UDP의 차이를 알려주세요.
	- TCP는 3-way handshake로 통신 가능 여부를 확인하고 패킷을 순차적으로 전송합니다.
	  속도는 느리지만 데이터 전송을 보장하고 신뢰성을 확보할 수 있습니다.
	- UDP는 데이터를 독립적인 패킷 단위로 전송하는 프로토콜입니다.
	  비연결형이고, 신뢰성보다 성능이 중요한 경우에 사용합니다.

- Checksum이 무엇인가요?
	- 데이터 무결성을 확인하기 위한 값입니다.

- TCP와 UDP 중 어느 프로토콜이 Checksum을 수행할까요?
	- 둘 다 사용합니다.
	  데이터 무결성을 확인하고 오류를 검출하기 위해 수행합니다.

- 그렇다면, Checksum을 통해 오류를 정정할 수 있나요?
	- Checksum으로 오류가 검출되면 재전송을 요청해서 정정할 수 있습니다.

- TCP가 신뢰성을 보장하는 방법에 대해 설명해 주세요.
	- 먼저 3-way handshake로 통신이 가능한 상태인지 확인하고 연결합니다.
	- 이 과정에서 한 번에 주고받을 데이터 크기 단위인 Window Size를 설정합니다.
	- 수신자는 Acknowledgment Number를 전달하여 어느 정도의 패킷을 수신했는지 알립니다.
	- 송신자는 다음 Sequence Number 패킷을 전송합니다.

- TCP의 혼잡 제어 처리 방법에 대해 설명해 주세요.
	- TCP는 Slow Start를 통해 혼잡 제어를 처리합니다.
	- 연결 초기에는 데이터 송출량을 낮게 잡고, 수신하는 상황에 따라 송출량을 늘립니다.

- 왜 HTTP는 TCP를 사용하나요?
	- 신뢰성 있는 데이터 전송이 필요하기 때문입니다.
	- 순서를 보장하여 웹 페이지 구성요소가 올바르게 조립되고 표시되도록 합니다.
	- 흐름 제어를 통해 효율적인 데이터 전송도 보장할 수 있습니다.

- 그렇다면, 왜 HTTP/3 에서는 UDP를 사용하나요? 위에서 언급한 UDP의 문제가 해결되었나요?
	- 3-way handshake 과정에서 발생하는 오버헤드를 줄이기 위해서입니다.
	- HTTP/3 에서는 QUIC 프로토콜을 기반으로 하는데, 이 프로토콜은 UDP에 새로운 계층을 추가해서 TCP의 신뢰성까지 확보할 수 있도록 구성되었습니다.

- 그런데, 브라우저는 어떤 서버가 TCP를 쓰는지 UDP를 쓰는지 어떻게 알 수 있나요?
	- 요청에 대한 응답 패킷 분석으로 파악할 수 있습니다.

- 본인이 새로운 통신 프로토콜을 TCP나 UDP를 사용해서 구현한다고 하면, 어떤 기준으로 프로토콜을 선택하시겠어요?
	- 지연시간을 기준으로 선택할 것 같습니다.
		- 속도가 느려도 반드시 데이터 전송이 보장되어야 하는 경우에는 TCP
		- 지연 시간이 중요한 실시간 응용 프로그램같은 경우에는 UDP
	- 네트워크 환경을 기준으로 선택할 것 같습니다.
		- 네트워크 환경이 불안정하고 패킷 손실 우려가 있다면 UDP

- 2-Way Handshaking 를 하지않는 이유에 대해 설명해 주세요.
	- 수신자가 데이터를 수신했는지 확인할 수 없기 때문입니다.
	- SYN 이후 수신 불가능한 상태에 빠질 수 있습니다.

- 두 호스트가 동시에 연결을 시도하면, 연결이 가능한가요? 가능하다면 어떻게 통신 연결을 수행하나요?
	- 동시에는 불가능하고, 먼저 도착한 요청에 대해 3-way handshake가 수행됩니다.
	- 수신받지 못한 호스트는 일정 시간 후에 재시도합니다.

- SYN Flooding 에 대해 설명해 주세요.
	- SYN/ACK 응답에 반응하지 않고 SYN 요청만 과도하게 보내는 공격입니다.
	- 과도한 TCP 커넥션으로 인하여 서버의 성능이 저하될 수 있습니다.
	- SYN 요청에 대한 임계치를 설정하거나 비정상적인 트래픽을 감지하기 위한 방화벽을 구성하여 방지할 수 있습니다.

- 위 질문과 모순될 수 있지만, 3-Way Handshake의 속도 문제 때문에 이동 수를 줄이는 0-RTT 기법을 많이 적용하고 있습니다. 어떤 방식으로 가능한 걸까요?
	- 이전 세션 정보를 재사용하여 3-way handshake 절차를 생략할 수 있습니다.
	- 하지만 재전송 공격에 취약합니다.