
```java
class Solution {
    int answer = 0;
    char dummy = ' ';

    public int solution(int m, int n, String[] board) {
        char[][] charArray = new char[board.length][];
        for (int i = 0; i < board.length; i++) charArray[i] = board[i].toCharArray();

        while (remove(charArray)) move(charArray);
        
        return answer;
    }

    private boolean remove(char[][] board) { 
        Set<String> set = new HashSet<>();
        boolean flag = false;

        for (int i = 0; i < board.length - 1; i++) {
            for (int j = 0; j < board[0].length - 1; j++) {
                char target = board[i][j];
                if (target == dummy) continue;
                char right = board[i][j + 1];
                char down = board[i + 1][j];
                char opposite = board[i + 1][j + 1];

                if (target == right && target == down && target == opposite) {
                    flag = true;
                    set.addAll(List.of(
                        i + "," + j,
                        i + "," + (j + 1),
                        (i + 1) + "," + j,
                        (i + 1) + "," + (j + 1)
                    ));
                }
            }
        }

        for (String removeTarget : set) {
            String[] parts = removeTarget.split(",");
            board[Integer.parseInt(parts[0])][Integer.parseInt(parts[1])] = dummy;
            answer += 1;
        }

        return flag;
    }

    private void move(char[][] board) {
        for (int i = board.length - 2; i >= 0; i--) {
            for (int j = 0; j < board[0].length; j++) {
                if (board[i + 1][j] == dummy) {
                    int temp = 1;
                    while (temp + i + 1 < board.length && board[i + temp + 1][j] == dummy) temp += 1;

                    board[i + temp][j] = board[i][j];
                    board[i][j] = dummy;
                }
            }
        }
    }
}
```

### 플랫폼
- 프로그래머스

### 난이도
- 2레벨

### 문제
```
블라인드 공채를 통과한 신입 사원 라이언은 신규 게임 개발 업무를 맡게 되었다. 이번에 출시할 게임 제목은 "프렌즈4블록".  
같은 모양의 카카오프렌즈 블록이 2×2 형태로 4개가 붙어있을 경우 사라지면서 점수를 얻는 게임이다.

블록이 지워진 후에 위에 있는 블록이 아래로 떨어져 빈 공간을 채우게 된다.

만약 빈 공간을 채운 후에 다시 2×2 형태로 같은 모양의 블록이 모이면 다시 지워지고 떨어지고를 반복하게 된다.

입력으로 블록의 첫 배치가 주어졌을 때, 지워지는 블록은 모두 몇 개인지 판단하는 프로그램을 제작하라.
```

### 아이디어
1. 구현 문제
2. 블록을 제거하는 메소드
	1. Set을 활용하여 효율적으로 중복을 제거하고 삭제되는 블럭의 개수를 센다.
	2. flag 변수로 하나도 제거되지 않았다면 종료한다.
3. 블록을 재배치하는 메소드
	1. 수직 아래로 확인하며 마지막 빈 공간을 찾고 교체한다.